import{b as G,a3 as h,d as Z,e as M,u as H,f as L,ar as Le,as as be,a8 as Ue,at as he,k as ke,U as $e,a1 as re,c as T,o as b,h as _,n as g,i as t,a as R,m as z,r as B,F as x,g as A,w as m,ak as Re,E as I,p as we,x as ne,M as Ee,Z as Ce,au as U,av as se,q,ae as De,af as Ve,aw as _e,l as W,j as f,ax as Be,ay as Oe,az as Ne,aA as Ae,v as Me,s as oe,W as ie,aB as je,A as ue,S as Ie,J as qe,a9 as ze,aC as Ke,aD as de,ag as ce,_ as He,L as We,ac as Ge,ai as j}from"./index-CVNYEqo9.js";import{E as Xe,a as Je,b as Ye}from"./el-form-item-BiJciac8.js";/* empty css                 */import{a as Ze,n as ee,i as Qe,o as xe,l as et,s as Q,E as N,m as tt,p as at}from"./request-DbeunPtR.js";import{g as st,d as ot,e as lt,f as nt}from"./el-table-column-lK5kYIEA.js";var rt=1,it=4;function pe(n){return st(n,rt|it)}const ut=G({type:{type:String,default:"line",values:["line","circle","dashboard"]},percentage:{type:Number,default:0,validator:n=>n>=0&&n<=100},status:{type:String,default:"",values:["","success","exception","warning"]},indeterminate:Boolean,duration:{type:Number,default:3},strokeWidth:{type:Number,default:6},strokeLinecap:{type:h(String),default:"round"},textInside:Boolean,width:{type:Number,default:126},showText:{type:Boolean,default:!0},color:{type:h([String,Array,Function]),default:""},striped:Boolean,stripedFlow:Boolean,format:{type:h(Function),default:n=>`${n}%`}}),dt=M({name:"ElProgress"}),ct=M({...dt,props:ut,setup(n){const o=n,s={success:"#13ce66",exception:"#ff4949",warning:"#e6a23c",default:"#20a0ff"},u=H("progress"),d=L(()=>{const r={width:`${o.percentage}%`,animationDuration:`${o.duration}s`},k=S(o.percentage);return k.includes("gradient")?r.background=k:r.backgroundColor=k,r}),p=L(()=>(o.strokeWidth/o.width*100).toFixed(1)),v=L(()=>["circle","dashboard"].includes(o.type)?Number.parseInt(`${50-Number.parseFloat(p.value)/2}`,10):0),$=L(()=>{const r=v.value,k=o.type==="dashboard";return`
          M 50 50
          m 0 ${k?"":"-"}${r}
          a ${r} ${r} 0 1 1 0 ${k?"-":""}${r*2}
          a ${r} ${r} 0 1 1 0 ${k?"":"-"}${r*2}
          `}),w=L(()=>2*Math.PI*v.value),E=L(()=>o.type==="dashboard"?.75:1),F=L(()=>`${-1*w.value*(1-E.value)/2}px`),y=L(()=>({strokeDasharray:`${w.value*E.value}px, ${w.value}px`,strokeDashoffset:F.value})),O=L(()=>({strokeDasharray:`${w.value*E.value*(o.percentage/100)}px, ${w.value}px`,strokeDashoffset:F.value,transition:"stroke-dasharray 0.6s ease 0s, stroke 0.6s ease, opacity ease 0.6s"})),l=L(()=>{let r;return o.color?r=S(o.percentage):r=s[o.status]||s.default,r}),c=L(()=>o.status==="warning"?Le:o.type==="line"?o.status==="success"?be:Ue:o.status==="success"?he:ke),e=L(()=>o.type==="line"?12+o.strokeWidth*.4:o.width*.111111+2),a=L(()=>o.format(o.percentage));function i(r){const k=100/r.length;return r.map((P,V)=>re(P)?{color:P,percentage:(V+1)*k}:P).sort((P,V)=>P.percentage-V.percentage)}const S=r=>{var k;const{color:D}=o;if($e(D))return D(r);if(re(D))return D;{const P=i(D);for(const V of P)if(V.percentage>r)return V.color;return(k=P[P.length-1])==null?void 0:k.color}};return(r,k)=>(b(),T("div",{class:g([t(u).b(),t(u).m(r.type),t(u).is(r.status),{[t(u).m("without-text")]:!r.showText,[t(u).m("text-inside")]:r.textInside}]),role:"progressbar","aria-valuenow":r.percentage,"aria-valuemin":"0","aria-valuemax":"100"},[r.type==="line"?(b(),T("div",{key:0,class:g(t(u).b("bar"))},[R("div",{class:g(t(u).be("bar","outer")),style:z({height:`${r.strokeWidth}px`})},[R("div",{class:g([t(u).be("bar","inner"),{[t(u).bem("bar","inner","indeterminate")]:r.indeterminate},{[t(u).bem("bar","inner","striped")]:r.striped},{[t(u).bem("bar","inner","striped-flow")]:r.stripedFlow}]),style:z(t(d))},[(r.showText||r.$slots.default)&&r.textInside?(b(),T("div",{key:0,class:g(t(u).be("bar","innerText"))},[B(r.$slots,"default",{percentage:r.percentage},()=>[R("span",null,x(t(a)),1)])],2)):_("v-if",!0)],6)],6)],2)):(b(),T("div",{key:1,class:g(t(u).b("circle")),style:z({height:`${r.width}px`,width:`${r.width}px`})},[(b(),T("svg",{viewBox:"0 0 100 100"},[R("path",{class:g(t(u).be("circle","track")),d:t($),stroke:`var(${t(u).cssVarName("fill-color-light")}, #e5e9f2)`,"stroke-linecap":r.strokeLinecap,"stroke-width":t(p),fill:"none",style:z(t(y))},null,14,["d","stroke","stroke-linecap","stroke-width"]),R("path",{class:g(t(u).be("circle","path")),d:t($),stroke:t(l),fill:"none",opacity:r.percentage?1:0,"stroke-linecap":r.strokeLinecap,"stroke-width":t(p),style:z(t(O))},null,14,["d","stroke","opacity","stroke-linecap","stroke-width"])]))],6)),(r.showText||r.$slots.default)&&!r.textInside?(b(),T("div",{key:2,class:g(t(u).e("text")),style:z({fontSize:`${t(e)}px`})},[B(r.$slots,"default",{percentage:r.percentage},()=>[r.status?(b(),A(t(I),{key:1},{default:m(()=>[(b(),A(Re(t(c))))]),_:1})):(b(),T("span",{key:0},x(t(a)),1))])],6)):_("v-if",!0)],10,["aria-valuenow"]))}});var pt=Z(ct,[["__file","progress.vue"]]);const ft=we(pt),Se=Symbol("uploadContextKey"),mt="ElUpload";class vt extends Error{constructor(o,s,u,d){super(o),this.name="UploadAjaxError",this.status=s,this.method=u,this.url=d}}function fe(n,o,s){let u;return s.response?u=`${s.response.error||s.response}`:s.responseText?u=`${s.responseText}`:u=`fail to ${o.method} ${n} ${s.status}`,new vt(u,s.status,o.method,n)}function yt(n){const o=n.responseText||n.response;if(!o)return o;try{return JSON.parse(o)}catch{return o}}const gt=n=>{typeof XMLHttpRequest>"u"&&ne(mt,"XMLHttpRequest is undefined");const o=new XMLHttpRequest,s=n.action;o.upload&&o.upload.addEventListener("progress",p=>{const v=p;v.percent=p.total>0?p.loaded/p.total*100:0,n.onProgress(v)});const u=new FormData;if(n.data)for(const[p,v]of Object.entries(n.data))Ee(v)&&v.length?u.append(p,...v):u.append(p,v);u.append(n.filename,n.file,n.file.name),o.addEventListener("error",()=>{n.onError(fe(s,n,o))}),o.addEventListener("load",()=>{if(o.status<200||o.status>=300)return n.onError(fe(s,n,o));n.onSuccess(yt(o))}),o.open(n.method,s,!0),n.withCredentials&&"withCredentials"in o&&(o.withCredentials=!0);const d=n.headers||{};if(d instanceof Headers)d.forEach((p,v)=>o.setRequestHeader(v,p));else for(const[p,v]of Object.entries(d))Ce(v)||o.setRequestHeader(p,String(v));return o.send(u),o},Fe=["text","picture","picture-card"];let bt=1;const le=()=>Date.now()+bt++,Pe=G({action:{type:String,default:"#"},headers:{type:h(Object)},method:{type:String,default:"post"},data:{type:h([Object,Function,Promise]),default:()=>se({})},multiple:Boolean,name:{type:String,default:"file"},drag:Boolean,withCredentials:Boolean,showFileList:{type:Boolean,default:!0},accept:{type:String,default:""},fileList:{type:h(Array),default:()=>se([])},autoUpload:{type:Boolean,default:!0},listType:{type:String,values:Fe,default:"text"},httpRequest:{type:h(Function),default:gt},disabled:Boolean,limit:Number}),ht=G({...Pe,beforeUpload:{type:h(Function),default:U},beforeRemove:{type:h(Function)},onRemove:{type:h(Function),default:U},onChange:{type:h(Function),default:U},onPreview:{type:h(Function),default:U},onSuccess:{type:h(Function),default:U},onProgress:{type:h(Function),default:U},onError:{type:h(Function),default:U},onExceed:{type:h(Function),default:U},crossorigin:{type:h(String)}}),kt=G({files:{type:h(Array),default:()=>se([])},disabled:Boolean,handlePreview:{type:h(Function),default:U},listType:{type:String,values:Fe,default:"text"},crossorigin:{type:h(String)}}),$t={remove:n=>!!n},wt=M({name:"ElUploadList"}),Et=M({...wt,props:kt,emits:$t,setup(n,{emit:o}){const s=n,{t:u}=Ze(),d=H("upload"),p=H("icon"),v=H("list"),$=ee(),w=q(!1),E=L(()=>[d.b("list"),d.bm("list",s.listType),d.is("disabled",s.disabled)]),F=y=>{o("remove",y)};return(y,O)=>(b(),A(Ae,{tag:"ul",class:g(t(E)),name:t(v).b()},{default:m(()=>[(b(!0),T(De,null,Ve(y.files,(l,c)=>(b(),T("li",{key:l.uid||l.name,class:g([t(d).be("list","item"),t(d).is(l.status),{focusing:w.value}]),tabindex:t($)?void 0:0,"aria-disabled":t($),role:"button",onKeydown:_e(e=>!t($)&&F(l),["delete"]),onFocus:e=>w.value=!0,onBlur:e=>w.value=!1,onClick:e=>w.value=!1},[B(y.$slots,"default",{file:l,index:c},()=>[y.listType==="picture"||l.status!=="uploading"&&y.listType==="picture-card"?(b(),T("img",{key:0,class:g(t(d).be("list","item-thumbnail")),src:l.url,crossorigin:y.crossorigin,alt:""},null,10,["src","crossorigin"])):_("v-if",!0),l.status==="uploading"||y.listType!=="picture-card"?(b(),T("div",{key:1,class:g(t(d).be("list","item-info"))},[R("a",{class:g(t(d).be("list","item-name")),onClick:W(e=>y.handlePreview(l),["prevent"])},[f(t(I),{class:g(t(p).m("document"))},{default:m(()=>[f(t(Be))]),_:1},8,["class"]),R("span",{class:g(t(d).be("list","item-file-name")),title:l.name},x(l.name),11,["title"])],10,["onClick"]),l.status==="uploading"?(b(),A(t(ft),{key:0,type:y.listType==="picture-card"?"circle":"line","stroke-width":y.listType==="picture-card"?6:2,percentage:Number(l.percentage),style:z(y.listType==="picture-card"?"":"margin-top: 0.5rem")},null,8,["type","stroke-width","percentage","style"])):_("v-if",!0)],2)):_("v-if",!0),R("label",{class:g(t(d).be("list","item-status-label"))},[y.listType==="text"?(b(),A(t(I),{key:0,class:g([t(p).m("upload-success"),t(p).m("circle-check")])},{default:m(()=>[f(t(be))]),_:1},8,["class"])):["picture-card","picture"].includes(y.listType)?(b(),A(t(I),{key:1,class:g([t(p).m("upload-success"),t(p).m("check")])},{default:m(()=>[f(t(he))]),_:1},8,["class"])):_("v-if",!0)],2),t($)?_("v-if",!0):(b(),A(t(I),{key:2,class:g(t(p).m("close")),onClick:e=>F(l)},{default:m(()=>[f(t(ke))]),_:2},1032,["class","onClick"])),_(" Due to close btn only appears when li gets focused disappears after li gets blurred, thus keyboard navigation can never reach close btn"),_(" This is a bug which needs to be fixed "),_(" TODO: Fix the incorrect navigation interaction "),t($)?_("v-if",!0):(b(),T("i",{key:3,class:g(t(p).m("close-tip"))},x(t(u)("el.upload.deleteTip")),3)),y.listType==="picture-card"?(b(),T("span",{key:4,class:g(t(d).be("list","item-actions"))},[R("span",{class:g(t(d).be("list","item-preview")),onClick:e=>y.handlePreview(l)},[f(t(I),{class:g(t(p).m("zoom-in"))},{default:m(()=>[f(t(Oe))]),_:1},8,["class"])],10,["onClick"]),t($)?_("v-if",!0):(b(),T("span",{key:0,class:g(t(d).be("list","item-delete")),onClick:e=>F(l)},[f(t(I),{class:g(t(p).m("delete"))},{default:m(()=>[f(t(Ne))]),_:1},8,["class"])],10,["onClick"]))],2)):_("v-if",!0)])],42,["tabindex","aria-disabled","onKeydown","onFocus","onBlur","onClick"]))),128)),B(y.$slots,"append")]),_:3},8,["class","name"]))}});var me=Z(Et,[["__file","upload-list.vue"]]);const Ct=G({disabled:Boolean}),_t={file:n=>Ee(n)},Te="ElUploadDrag",St=M({name:Te}),Ft=M({...St,props:Ct,emits:_t,setup(n,{emit:o}){Me(Se)||ne(Te,"usage: <el-upload><el-upload-dragger /></el-upload>");const u=H("upload"),d=q(!1),p=ee(),v=E=>{if(p.value)return;d.value=!1,E.stopPropagation();const F=Array.from(E.dataTransfer.files),y=E.dataTransfer.items||[];F.forEach((O,l)=>{var c;const e=y[l],a=(c=e?.webkitGetAsEntry)==null?void 0:c.call(e);a&&(O.isDirectory=a.isDirectory)}),o("file",F)},$=()=>{p.value||(d.value=!0)},w=E=>{E.currentTarget.contains(E.relatedTarget)||(d.value=!1)};return(E,F)=>(b(),T("div",{class:g([t(u).b("dragger"),t(u).is("dragover",d.value)]),onDrop:W(v,["prevent"]),onDragover:W($,["prevent"]),onDragleave:W(w,["prevent"])},[B(E.$slots,"default")],42,["onDrop","onDragover","onDragleave"]))}});var Pt=Z(Ft,[["__file","upload-dragger.vue"]]);const Tt=G({...Pe,beforeUpload:{type:h(Function),default:U},onRemove:{type:h(Function),default:U},onStart:{type:h(Function),default:U},onSuccess:{type:h(Function),default:U},onProgress:{type:h(Function),default:U},onError:{type:h(Function),default:U},onExceed:{type:h(Function),default:U}}),Lt=M({name:"ElUploadContent",inheritAttrs:!1}),Ut=M({...Lt,props:Tt,setup(n,{expose:o}){const s=n,u=H("upload"),d=ee(),p=oe({}),v=oe(),$=e=>{if(e.length===0)return;const{autoUpload:a,limit:i,fileList:S,multiple:r,onStart:k,onExceed:D}=s;if(i&&S.length+e.length>i){D(e,S);return}r||(e=e.slice(0,1));for(const P of e){const V=P;V.uid=le(),k(V),a&&w(V)}},w=async e=>{if(v.value.value="",!s.beforeUpload)return F(e);let a,i={};try{const r=s.data,k=s.beforeUpload(e);i=ie(s.data)?pe(s.data):s.data,a=await k,ie(s.data)&&Qe(r,i)&&(i=pe(s.data))}catch{a=!1}if(a===!1){s.onRemove(e);return}let S=e;a instanceof Blob&&(a instanceof File?S=a:S=new File([a],e.name,{type:e.type})),F(Object.assign(S,{uid:e.uid}),i)},E=async(e,a)=>$e(e)?e(a):e,F=async(e,a)=>{const{headers:i,data:S,method:r,withCredentials:k,name:D,action:P,onProgress:V,onSuccess:X,onError:te,httpRequest:ae}=s;try{a=await E(a??S,e)}catch{s.onRemove(e);return}const{uid:J}=e,C={headers:i||{},withCredentials:k,file:e,data:a,method:r,filename:D,action:P,onProgress:K=>{V(K,e)},onSuccess:K=>{X(K,e),delete p.value[J]},onError:K=>{te(K,e),delete p.value[J]}},Y=ae(C);p.value[J]=Y,Y instanceof Promise&&Y.then(C.onSuccess,C.onError)},y=e=>{const a=e.target.files;a&&$(Array.from(a))},O=()=>{d.value||(v.value.value="",v.value.click())},l=()=>{O()};return o({abort:e=>{xe(p.value).filter(e?([i])=>String(e.uid)===i:()=>!0).forEach(([i,S])=>{S instanceof XMLHttpRequest&&S.abort(),delete p.value[i]})},upload:w}),(e,a)=>(b(),T("div",{class:g([t(u).b(),t(u).m(e.listType),t(u).is("drag",e.drag),t(u).is("disabled",t(d))]),tabindex:t(d)?void 0:0,"aria-disabled":t(d),role:"button",onClick:O,onKeydown:_e(W(l,["self"]),["enter","space"])},[e.drag?(b(),A(Pt,{key:0,disabled:t(d),onFile:$},{default:m(()=>[B(e.$slots,"default")]),_:3},8,["disabled"])):B(e.$slots,"default",{key:1}),R("input",{ref_key:"inputRef",ref:v,class:g(t(u).e("input")),name:e.name,disabled:t(d),multiple:e.multiple,accept:e.accept,type:"file",onChange:y,onClick:W(()=>{},["stop"])},null,42,["name","disabled","multiple","accept","onClick"])],42,["tabindex","aria-disabled","onKeydown"]))}});var ve=Z(Ut,[["__file","upload-content.vue"]]);const ye="ElUpload",ge=n=>{var o;(o=n.url)!=null&&o.startsWith("blob:")&&URL.revokeObjectURL(n.url)},Rt=(n,o)=>{const s=je(n,"fileList",void 0,{passive:!0}),u=l=>s.value.find(c=>c.uid===l.uid);function d(l){var c;(c=o.value)==null||c.abort(l)}function p(l=["ready","uploading","success","fail"]){s.value=s.value.filter(c=>!l.includes(c.status))}function v(l){s.value=s.value.filter(c=>c.uid!==l.uid)}const $=(l,c)=>{const e=u(c);e&&(console.error(l),e.status="fail",v(e),n.onError(l,e,s.value),n.onChange(e,s.value))},w=(l,c)=>{const e=u(c);e&&(n.onProgress(l,e,s.value),e.status="uploading",e.percentage=Math.round(l.percent))},E=(l,c)=>{const e=u(c);e&&(e.status="success",e.response=l,n.onSuccess(l,e,s.value),n.onChange(e,s.value))},F=l=>{Ce(l.uid)&&(l.uid=le());const c={name:l.name,percentage:0,status:"ready",size:l.size,raw:l,uid:l.uid};if(n.listType==="picture-card"||n.listType==="picture")try{c.url=URL.createObjectURL(l)}catch(e){Ie(ye,e.message),n.onError(e,c,s.value)}s.value=[...s.value,c],n.onChange(c,s.value)},y=async l=>{const c=l instanceof File?u(l):l;c||ne(ye,"file to be removed not found");const e=a=>{d(a),v(a),n.onRemove(a,s.value),ge(a)};n.beforeRemove?await n.beforeRemove(c,s.value)!==!1&&e(c):e(c)};function O(){s.value.filter(({status:l})=>l==="ready").forEach(({raw:l})=>{var c;return l&&((c=o.value)==null?void 0:c.upload(l))})}return ue(()=>n.listType,l=>{l!=="picture-card"&&l!=="picture"||(s.value=s.value.map(c=>{const{raw:e,url:a}=c;if(!a&&e)try{c.url=URL.createObjectURL(e)}catch(i){n.onError(i,c,s.value)}return c}))}),ue(s,l=>{for(const c of l)c.uid||(c.uid=le()),c.status||(c.status="success")},{immediate:!0,deep:!0}),{uploadFiles:s,abort:d,clearFiles:p,handleError:$,handleProgress:w,handleStart:F,handleSuccess:E,handleRemove:y,submit:O,revokeFileObjectURL:ge}},Dt=M({name:"ElUpload"}),Vt=M({...Dt,props:ht,setup(n,{expose:o}){const s=n,u=ee(),d=oe(),{abort:p,submit:v,clearFiles:$,uploadFiles:w,handleStart:E,handleError:F,handleRemove:y,handleSuccess:O,handleProgress:l,revokeFileObjectURL:c}=Rt(s,d),e=L(()=>s.listType==="picture-card"),a=L(()=>({...s,fileList:w.value,onStart:E,onProgress:l,onSuccess:O,onError:F,onRemove:y}));return qe(()=>{w.value.forEach(c)}),ze(Se,{accept:Ke(s,"accept")}),o({abort:p,submit:v,clearFiles:$,handleStart:E,handleRemove:y}),(i,S)=>(b(),T("div",null,[t(e)&&i.showFileList?(b(),A(me,{key:0,disabled:t(u),"list-type":i.listType,files:t(w),crossorigin:i.crossorigin,"handle-preview":i.onPreview,onRemove:t(y)},de({append:m(()=>[f(ve,ce({ref_key:"uploadRef",ref:d},t(a)),{default:m(()=>[i.$slots.trigger?B(i.$slots,"trigger",{key:0}):_("v-if",!0),!i.$slots.trigger&&i.$slots.default?B(i.$slots,"default",{key:1}):_("v-if",!0)]),_:3},16)]),_:2},[i.$slots.file?{name:"default",fn:m(({file:r,index:k})=>[B(i.$slots,"file",{file:r,index:k})])}:void 0]),1032,["disabled","list-type","files","crossorigin","handle-preview","onRemove"])):_("v-if",!0),!t(e)||t(e)&&!i.showFileList?(b(),A(ve,ce({key:1,ref_key:"uploadRef",ref:d},t(a)),{default:m(()=>[i.$slots.trigger?B(i.$slots,"trigger",{key:0}):_("v-if",!0),!i.$slots.trigger&&i.$slots.default?B(i.$slots,"default",{key:1}):_("v-if",!0)]),_:3},16)):_("v-if",!0),i.$slots.trigger?B(i.$slots,"default",{key:2}):_("v-if",!0),B(i.$slots,"tip"),!t(e)&&i.showFileList?(b(),A(me,{key:3,disabled:t(u),"list-type":i.listType,files:t(w),crossorigin:i.crossorigin,"handle-preview":i.onPreview,onRemove:t(y)},de({_:2},[i.$slots.file?{name:"default",fn:m(({file:r,index:k})=>[B(i.$slots,"file",{file:r,index:k})])}:void 0]),1032,["disabled","list-type","files","crossorigin","handle-preview","onRemove"])):_("v-if",!0)]))}});var Bt=Z(Vt,[["__file","upload.vue"]]);const Ot=we(Bt),Nt={class:"card-header"},At={__name:"PlayersView",setup(n){const o=q([]),s=q(!1),u=q(!1),d=q({id:null,name:"",info:""}),p=q(!1),v=q({name:"",info:""}),$=async()=>{try{const e=await Q.get("/players");o.value=e.data.data}catch{N.error("获取选手列表失败！")}},w=()=>{v.value={name:"",info:""},p.value=!0},E=async()=>{if(!v.value.name||v.value.name.trim()===""){N.warning("选手姓名不能为空！");return}try{await Q.post("/players",v.value),N.success("选手添加成功！"),p.value=!1,$()}catch{N.error("添加失败！")}},F=e=>{d.value={...e},u.value=!0},y=async()=>{if(!d.value.name||d.value.name.trim()===""){N.warning("选手姓名不能为空！");return}try{await Q.put(`/players/${d.value.id}`,d.value),N.success("更新成功！"),u.value=!1,$()}catch{N.error("更新失败！")}},O=e=>{nt.confirm(`确定要删除选手【${e.name}】吗？此操作不可逆！`,"警告",{confirmButtonText:"确定删除",cancelButtonText:"取消",type:"warning"}).then(async()=>{try{await Q.delete(`/players/${e.id}`),N.success("删除成功！"),$()}catch{N.error("删除失败！")}}).catch(()=>{})},l=(e,a,i)=>{e&&e.count>0?(N.success(`成功导入 ${e.count} 名选手！`),s.value=!1,$()):N.warning("导入成功，但文件可能为空或格式不正确。")},c=(e,a,i)=>{N.error("文件上传失败，请检查文件格式或联系管理员。"),console.error(e)};return We($),(e,a)=>{const i=tt,S=lt,r=ot,k=et,D=at,P=Ye,V=Je,X=Xe,te=Ge("upload-filled"),ae=I,J=Ot;return b(),T("div",null,[f(k,null,{header:m(()=>[R("div",Nt,[a[12]||(a[12]=R("span",null,"选手列表",-1)),R("div",null,[f(i,{type:"success",onClick:w},{default:m(()=>[...a[10]||(a[10]=[j("手动录入",-1)])]),_:1}),f(i,{type:"primary",onClick:a[0]||(a[0]=C=>s.value=!0)},{default:m(()=>[...a[11]||(a[11]=[j("批量导入",-1)])]),_:1})])])]),default:m(()=>[f(r,{data:o.value,border:"",stripe:""},{default:m(()=>[f(S,{prop:"id",label:"ID",width:"80",align:"center"}),f(S,{prop:"name",label:"姓名"}),f(S,{prop:"info",label:"简介"}),f(S,{label:"操作",width:"180",align:"center"},{default:m(({row:C})=>[f(i,{type:"primary",size:"small",onClick:Y=>F(C)},{default:m(()=>[...a[13]||(a[13]=[j("编辑",-1)])]),_:1},8,["onClick"]),f(i,{type:"danger",size:"small",onClick:Y=>O(C)},{default:m(()=>[...a[14]||(a[14]=[j("删除",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1},8,["data"])]),_:1}),f(X,{modelValue:p.value,"onUpdate:modelValue":a[4]||(a[4]=C=>p.value=C),title:"手动录入选手",width:"500","append-to-body":""},{footer:m(()=>[f(i,{onClick:a[3]||(a[3]=C=>p.value=!1)},{default:m(()=>[...a[15]||(a[15]=[j("取消",-1)])]),_:1}),f(i,{type:"primary",onClick:E},{default:m(()=>[...a[16]||(a[16]=[j("确定",-1)])]),_:1})]),default:m(()=>[f(V,{model:v.value,"label-width":"60px"},{default:m(()=>[f(P,{label:"姓名"},{default:m(()=>[f(D,{modelValue:v.value.name,"onUpdate:modelValue":a[1]||(a[1]=C=>v.value.name=C),placeholder:"请输入选手姓名"},null,8,["modelValue"])]),_:1}),f(P,{label:"简介"},{default:m(()=>[f(D,{modelValue:v.value.info,"onUpdate:modelValue":a[2]||(a[2]=C=>v.value.info=C),type:"textarea",placeholder:"请输入选手简介 (选填)"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"]),f(X,{modelValue:u.value,"onUpdate:modelValue":a[8]||(a[8]=C=>u.value=C),title:"编辑选手信息",width:"500","append-to-body":""},{footer:m(()=>[f(i,{onClick:a[7]||(a[7]=C=>u.value=!1)},{default:m(()=>[...a[17]||(a[17]=[j("取消",-1)])]),_:1}),f(i,{type:"primary",onClick:y},{default:m(()=>[...a[18]||(a[18]=[j("确定",-1)])]),_:1})]),default:m(()=>[f(V,{model:d.value,"label-width":"60px"},{default:m(()=>[f(P,{label:"姓名"},{default:m(()=>[f(D,{modelValue:d.value.name,"onUpdate:modelValue":a[5]||(a[5]=C=>d.value.name=C)},null,8,["modelValue"])]),_:1}),f(P,{label:"简介"},{default:m(()=>[f(D,{modelValue:d.value.info,"onUpdate:modelValue":a[6]||(a[6]=C=>d.value.info=C),type:"textarea"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"]),f(X,{modelValue:s.value,"onUpdate:modelValue":a[9]||(a[9]=C=>s.value=C),title:"批量导入选手 (CSV)",width:"500","append-to-body":""},{default:m(()=>[f(J,{drag:"",action:"http://localhost:3000/api/players/import",name:"playersFile",limit:1,"on-success":l,"on-error":c,accept:".csv"},{tip:m(()=>[...a[19]||(a[19]=[R("div",{class:"el-upload__tip"}," 请上传 CSV 格式文件，每行代表一位选手，列顺序为: 姓名, 简介。 ",-1)])]),default:m(()=>[f(ae,{class:"el-icon--upload"},{default:m(()=>[f(te)]),_:1}),a[20]||(a[20]=R("div",{class:"el-upload__text"},[j(" 拖拽文件到此处 或 "),R("em",null,"点击上传")],-1))]),_:1})]),_:1},8,["modelValue"])])}}},Kt=He(At,[["__scopeId","data-v-96eb253e"]]);export{Kt as default};
