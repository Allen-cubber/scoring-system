import{b as U,a7 as oe,aA as ae,a3 as M,bH as te,B as se,bI as ue,G as k,q as y,f as s,bJ as ie,aF as re,y as ce,S as de,M as fe,U as z,A as D,L as ve,bK as j,$ as ye,K as ge}from"./index-CBBTwFBk.js";import{U as $,X as be,T as me}from"./request-CthfmRK9.js";const Ie=Symbol("dialogInjectionKey"),L="dialog-fade",Ce=U({center:Boolean,alignCenter:{type:Boolean,default:void 0},closeIcon:{type:oe},draggable:{type:Boolean,default:void 0},overflow:{type:Boolean,default:void 0},fullscreen:Boolean,headerClass:String,bodyClass:String,footerClass:String,showClose:{type:Boolean,default:!0},title:{type:String,default:""},ariaLevel:{type:String,default:"2"}}),Se={close:()=>!0},Te=U({...Ce,appendToBody:Boolean,appendTo:{type:te.to.type,default:"body"},beforeClose:{type:M(Function)},destroyOnClose:Boolean,closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},modalPenetrable:Boolean,openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:Boolean,modalClass:String,headerClass:String,bodyClass:String,footerClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:Boolean,headerAriaLevel:{type:String,default:"2"},transition:{type:M([String,Object]),default:void 0}}),De={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[$]:n=>ae(n),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},_e="ElDialog",Le=(n,t)=>{var p;const u=se().emit,{nextZIndex:g}=ue();let O="";const K=k(),V=k(),i=y(!1),b=y(!1),d=y(!1),m=y((p=n.zIndex)!=null?p:g());let r,c;const x=be(),G=s(()=>{var e,l;return(l=(e=x.value)==null?void 0:e.namespace)!=null?l:ie}),f=s(()=>{var e;return(e=x.value)==null?void 0:e.dialog}),q=s(()=>{const e={},l=`--${G.value}-dialog`;return n.fullscreen||(n.top&&(e[`${l}-margin-top`]=n.top),n.width&&(e[`${l}-width`]=re(n.width))),e}),Z=s(()=>{var e,l,o;return((o=(l=n.draggable)!=null?l:(e=f.value)==null?void 0:e.draggable)!=null?o:!1)&&!n.fullscreen}),P=s(()=>{var e,l,o;return(o=(l=n.alignCenter)!=null?l:(e=f.value)==null?void 0:e.alignCenter)!=null?o:!1}),J=s(()=>{var e,l,o;return(o=(l=n.overflow)!=null?l:(e=f.value)==null?void 0:e.overflow)!=null?o:!1}),W=s(()=>P.value?{display:"flex"}:{}),X=s(()=>{var e,l,o;const S=(o=(l=n.transition)!=null?l:(e=f.value)==null?void 0:e.transition)!=null?o:L,ne={name:S,onAfterEnter:C,onBeforeLeave:A,onAfterLeave:_};if(ce(S)){const a={...S},T=(v,le)=>w=>{fe(v)?v.forEach(N=>{z(N)&&N(w)}):z(v)&&v(w),le()};return a.onAfterEnter=T(a.onAfterEnter,C),a.onBeforeLeave=T(a.onBeforeLeave,A),a.onAfterLeave=T(a.onAfterLeave,_),a.name||(a.name=L,de(_e,`transition.name is missing when using object syntax, fallback to '${L}'`)),a}return ne});function C(){u("opened")}function _(){u("closed"),u($,!1),n.destroyOnClose&&(d.value=!1)}function A(){u("close")}function h(){c?.(),r?.(),n.openDelay&&n.openDelay>0?{stop:r}=j(()=>F(),n.openDelay):F()}function B(){r?.(),c?.(),n.closeDelay&&n.closeDelay>0?{stop:c}=j(()=>I(),n.closeDelay):I()}function E(){function e(l){l||(b.value=!0,i.value=!1)}n.beforeClose?n.beforeClose(e):B()}function Q(){n.closeOnClickModal&&E()}function F(){ye&&(i.value=!0)}function I(){i.value=!1}function Y(){u("openAutoFocus")}function H(){u("closeAutoFocus")}function R(e){var l;((l=e.detail)==null?void 0:l.focusReason)==="pointer"&&e.preventDefault()}n.lockScroll&&me(i);function ee(){n.closeOnPressEscape&&E()}return D(()=>n.zIndex,()=>{var e;m.value=(e=n.zIndex)!=null?e:g()}),D(()=>n.modelValue,e=>{var l;e?(b.value=!1,h(),d.value=!0,m.value=(l=n.zIndex)!=null?l:g(),ge(()=>{u("open"),t.value&&(t.value.parentElement.scrollTop=0,t.value.parentElement.scrollLeft=0,t.value.scrollTop=0)})):i.value&&B()}),D(()=>n.fullscreen,e=>{t.value&&(e?(O=t.value.style.transform,t.value.style.transform=""):t.value.style.transform=O)}),ve(()=>{n.modelValue&&(i.value=!0,d.value=!0,h())}),{afterEnter:C,afterLeave:_,beforeLeave:A,handleClose:E,onModalClick:Q,close:B,doClose:I,onOpenAutoFocus:Y,onCloseAutoFocus:H,onCloseRequested:ee,onFocusoutPrevented:R,titleId:K,bodyId:V,closed:b,style:q,overlayDialogStyle:W,rendered:d,visible:i,zIndex:m,transitionConfig:X,_draggable:Z,_alignCenter:P,_overflow:J}};export{Ce as a,Ie as b,De as c,Se as d,Te as e,Le as u};
